workflow:
  as: ipi-aws-windows
  steps:
    env:
      OO_CHANNEL: preview
      OO_INSTALL_NAMESPACE: openshift-windows-machine-config-operator
      OO_PACKAGE: windows-machine-config-operator
      OO_TARGET_NAMESPACES: '!install'
    pre:
    - chain: ipi-conf-aws
    - ref: ovn-conf
    - ref: ovn-conf-hybrid-manifest
    - chain: ipi-install
    - ref: optional-operators-subscribe
    - ref: windows-conf-operator
    - ref: ipi-conf-aws-windows-machineset
    post:
    - chain: ipi-aws-post
  documentation: |-
    The IPI workflow provides pre- and post- steps that provision and
    deprovision an OpenShift cluster with Windows nodes using the default
    configuration on AWS, allowing job authors to inject their own end-to-end
    test logic.
